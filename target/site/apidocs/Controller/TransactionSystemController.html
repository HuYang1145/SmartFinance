<!DOCTYPE HTML>
<html lang="zh">
<head>
<!-- Generated by javadoc (21) on Sun May 11 22:50:11 GMT+08:00 2025 -->
<title>TransactionSystemController (SmartFinance API Documentation)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-05-11">
<meta name="description" content="declaration: package: Controller, class: TransactionSystemController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../";
loadScripts(document, 'script');</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="切换导航链接"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="跳过导航链接">跳过导航链接</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="导航">
<li><a href="../index.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="nav-bar-cell1-rev">类</li>
<li><a href="class-use/TransactionSystemController.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../index-all.html">索引</a></li>
<li><a href="../help-doc.html#class">帮助</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>概要:</p>
<ul>
<li>嵌套</li>
<li><a href="#field-summary">字段</a></li>
<li><a href="#constructor-summary">构造器</a></li>
<li><a href="#method-summary">方法</a></li>
</ul>
</li>
<li>
<p>详细资料:</p>
<ul>
<li><a href="#field-detail">字段</a></li>
<li><a href="#constructor-detail">构造器</a></li>
<li><a href="#method-detail">方法</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field-summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">方法</a></li>
</ul>
<ul class="sub-nav-list">
<li>详细资料:&nbsp;</li>
<li><a href="#field-detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">方法</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="搜索">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">程序包</span>&nbsp;<a href="package-summary.html">Controller</a></div>
<h1 title="类 TransactionSystemController" class="title">类 TransactionSystemController</h1>
</div>
<div class="inheritance" title="继承树"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="java.lang中的类或接口" class="external-link">java.lang.Object</a>
<div class="inheritance">Controller.TransactionSystemController</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">TransactionSystemController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="java.lang中的类或接口" class="external-link">Object</a></span></div>
<div class="block">Controller class for managing the transaction system panel in a financial management application.
 It handles user interactions with the transaction interface, including adding transactions,
 converting currencies, updating exchange rates, and displaying historical exchange rate trends.
 The controller integrates with the exchange rate service and transaction controller to perform
 these operations and updates the view accordingly.</div>
<dl class="notes">
<dt>版本:</dt>
<dd>1.0</dd>
<dt>作者:</dt>
<dd>Group 19</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>字段概要</h2>
<div class="caption"><span>字段</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">修饰符和类型</div>
<div class="table-header col-second">字段</div>
<div class="table-header col-last">说明</div>
<div class="col-first even-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/Timer.html" title="javax.swing中的类或接口" class="external-link">Timer</a></code></div>
<div class="col-second even-row-color"><code><a href="#countdownTimer" class="member-name-link">countdownTimer</a></code></div>
<div class="col-last even-row-color">
<div class="block">Timer for updating the countdown display for the next rate refresh.</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="../Service/ExchangeRateService.html" title="Service中的类">ExchangeRateService</a></code></div>
<div class="col-second odd-row-color"><code><a href="#exchangeRateService" class="member-name-link">exchangeRateService</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Service for fetching and managing exchange rates.</div>
</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="java.util中的类或接口" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="java.util中的类或接口" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Double.html" title="java.lang中的类或接口" class="external-link">Double</a>&gt;&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#mockHistoricalRates" class="member-name-link">mockHistoricalRates</a></code></div>
<div class="col-last even-row-color">
<div class="block">Mock historical exchange rates for CNY to other currencies (2020-2024).</div>
</div>
<div class="col-first odd-row-color"><code>private long</code></div>
<div class="col-second odd-row-color"><code><a href="#nextRefreshTime" class="member-name-link">nextRefreshTime</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Timestamp for the next scheduled exchange rate refresh.</div>
</div>
<div class="col-first even-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/Timer.html" title="javax.swing中的类或接口" class="external-link">Timer</a></code></div>
<div class="col-second even-row-color"><code><a href="#rateUpdateTimer" class="member-name-link">rateUpdateTimer</a></code></div>
<div class="col-last even-row-color">
<div class="block">Timer for periodically updating exchange rates.</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="TransactionController.html" title="Controller中的类">TransactionController</a></code></div>
<div class="col-second odd-row-color"><code><a href="#transactionController" class="member-name-link">transactionController</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Controller for handling transaction-related operations.</div>
</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#username" class="member-name-link">username</a></code></div>
<div class="col-last even-row-color">
<div class="block">The username of the current user.</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="../View/Transaction/TransactionSystemPlane.html" title="View.Transaction中的类">TransactionSystemPlane</a></code></div>
<div class="col-second odd-row-color"><code><a href="#view" class="member-name-link">view</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The view component for the transaction system panel.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>构造器概要</h2>
<div class="caption"><span>构造器</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">构造器</div>
<div class="table-header col-last">说明</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(View.Transaction.TransactionSystemPlane,Service.ExchangeRateService,Controller.TransactionController,java.lang.String)" class="member-name-link">TransactionSystemController</a><wbr>(<a href="../View/Transaction/TransactionSystemPlane.html" title="View.Transaction中的类">TransactionSystemPlane</a>&nbsp;view,
 <a href="../Service/ExchangeRateService.html" title="Service中的类">ExchangeRateService</a>&nbsp;exchangeRateService,
 <a href="TransactionController.html" title="Controller中的类">TransactionController</a>&nbsp;transactionController,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>&nbsp;username)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a TransactionSystemController with the specified view, services, and username.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>方法概要</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">所有方法</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">实例方法</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">具体方法</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">修饰符和类型</div>
<div class="table-header col-second">方法</div>
<div class="table-header col-last">说明</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#fetchExchangeRates()" class="member-name-link">fetchExchangeRates</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fetches exchange rates from the exchange rate service and updates the rate table and conversion display.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#initializeListeners()" class="member-name-link">initializeListeners</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initializes listeners for user interactions, including transaction submission and currency conversion.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#initializeMockHistoricalRates()" class="member-name-link">initializeMockHistoricalRates</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initializes mock historical exchange rates for CNY to various currencies (2020-2024).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startRateUpdateTimer()" class="member-name-link">startRateUpdateTimer</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Starts timers for periodic exchange rate updates and countdown display.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateConversion()" class="member-name-link">updateConversion</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the currency conversion result based on the entered amount and selected currency.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateHistoricalTrend()" class="member-name-link">updateHistoricalTrend</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the historical exchange rate trend chart based on the selected currency.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateRateTable(java.util.Map)" class="member-name-link">updateRateTable</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="java.util中的类或接口" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Double.html" title="java.lang中的类或接口" class="external-link">Double</a>&gt;&nbsp;rates)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the exchange rate table with the provided rates.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">从类继承的方法&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="java.lang中的类或接口" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="java.lang中的类或接口" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="java.lang中的类或接口" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="java.lang中的类或接口" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="java.lang中的类或接口" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="java.lang中的类或接口" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="java.lang中的类或接口" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="java.lang中的类或接口" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="java.lang中的类或接口" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="java.lang中的类或接口" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="java.lang中的类或接口" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="java.lang中的类或接口" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>字段详细资料</h2>
<ul class="member-list">
<li>
<section class="detail" id="view">
<h3>view</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="../View/Transaction/TransactionSystemPlane.html" title="View.Transaction中的类">TransactionSystemPlane</a></span>&nbsp;<span class="element-name">view</span></div>
<div class="block">The view component for the transaction system panel.</div>
</section>
</li>
<li>
<section class="detail" id="exchangeRateService">
<h3>exchangeRateService</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="../Service/ExchangeRateService.html" title="Service中的类">ExchangeRateService</a></span>&nbsp;<span class="element-name">exchangeRateService</span></div>
<div class="block">Service for fetching and managing exchange rates.</div>
</section>
</li>
<li>
<section class="detail" id="transactionController">
<h3>transactionController</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="TransactionController.html" title="Controller中的类">TransactionController</a></span>&nbsp;<span class="element-name">transactionController</span></div>
<div class="block">Controller for handling transaction-related operations.</div>
</section>
</li>
<li>
<section class="detail" id="username">
<h3>username</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a></span>&nbsp;<span class="element-name">username</span></div>
<div class="block">The username of the current user.</div>
</section>
</li>
<li>
<section class="detail" id="rateUpdateTimer">
<h3>rateUpdateTimer</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/Timer.html" title="javax.swing中的类或接口" class="external-link">Timer</a></span>&nbsp;<span class="element-name">rateUpdateTimer</span></div>
<div class="block">Timer for periodically updating exchange rates.</div>
</section>
</li>
<li>
<section class="detail" id="countdownTimer">
<h3>countdownTimer</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/Timer.html" title="javax.swing中的类或接口" class="external-link">Timer</a></span>&nbsp;<span class="element-name">countdownTimer</span></div>
<div class="block">Timer for updating the countdown display for the next rate refresh.</div>
</section>
</li>
<li>
<section class="detail" id="nextRefreshTime">
<h3>nextRefreshTime</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">nextRefreshTime</span></div>
<div class="block">Timestamp for the next scheduled exchange rate refresh.</div>
</section>
</li>
<li>
<section class="detail" id="mockHistoricalRates">
<h3>mockHistoricalRates</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="java.util中的类或接口" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="java.util中的类或接口" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Double.html" title="java.lang中的类或接口" class="external-link">Double</a>&gt;&gt;</span>&nbsp;<span class="element-name">mockHistoricalRates</span></div>
<div class="block">Mock historical exchange rates for CNY to other currencies (2020-2024).</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>构造器详细资料</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(View.Transaction.TransactionSystemPlane,Service.ExchangeRateService,Controller.TransactionController,java.lang.String)">
<h3>TransactionSystemController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">TransactionSystemController</span><wbr><span class="parameters">(<a href="../View/Transaction/TransactionSystemPlane.html" title="View.Transaction中的类">TransactionSystemPlane</a>&nbsp;view,
 <a href="../Service/ExchangeRateService.html" title="Service中的类">ExchangeRateService</a>&nbsp;exchangeRateService,
 <a href="TransactionController.html" title="Controller中的类">TransactionController</a>&nbsp;transactionController,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>&nbsp;username)</span></div>
<div class="block">Constructs a TransactionSystemController with the specified view, services, and username.
 Initializes mock historical rates, listeners, exchange rates, and timers for rate updates.</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>view</code> - The transaction system view to control.</dd>
<dd><code>exchangeRateService</code> - The service for fetching exchange rates.</dd>
<dd><code>transactionController</code> - The controller for transaction operations.</dd>
<dd><code>username</code> - The username of the current user.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>方法详细资料</h2>
<ul class="member-list">
<li>
<section class="detail" id="initializeMockHistoricalRates()">
<h3>initializeMockHistoricalRates</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">initializeMockHistoricalRates</span>()</div>
<div class="block">Initializes mock historical exchange rates for CNY to various currencies (2020-2024).
 Populates the mockHistoricalRates map with approximate yearly rates for testing purposes.</div>
</section>
</li>
<li>
<section class="detail" id="initializeListeners()">
<h3>initializeListeners</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">initializeListeners</span>()</div>
<div class="block">Initializes listeners for user interactions, including transaction submission and currency conversion.
 Sets up action listeners for adding transactions and document listeners for real-time currency conversion updates.</div>
</section>
</li>
<li>
<section class="detail" id="fetchExchangeRates()">
<h3>fetchExchangeRates</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">fetchExchangeRates</span>()</div>
<div class="block">Fetches exchange rates from the exchange rate service and updates the rate table and conversion display.
 Falls back to mock data if the fetch fails.</div>
</section>
</li>
<li>
<section class="detail" id="startRateUpdateTimer()">
<h3>startRateUpdateTimer</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">startRateUpdateTimer</span>()</div>
<div class="block">Starts timers for periodic exchange rate updates and countdown display.
 The rate update timer fetches new rates every 60 seconds, and the countdown timer
 updates the refresh countdown every second.</div>
</section>
</li>
<li>
<section class="detail" id="updateRateTable(java.util.Map)">
<h3>updateRateTable</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateRateTable</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="java.util中的类或接口" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="java.lang中的类或接口" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Double.html" title="java.lang中的类或接口" class="external-link">Double</a>&gt;&nbsp;rates)</span></div>
<div class="block">Updates the exchange rate table with the provided rates.</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>rates</code> - A map of currency codes to their exchange rates relative to CNY.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateConversion()">
<h3>updateConversion</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateConversion</span>()</div>
<div class="block">Updates the currency conversion result based on the entered amount and selected currency.
 Displays an error if the amount format is invalid.</div>
</section>
</li>
<li>
<section class="detail" id="updateHistoricalTrend()">
<h3>updateHistoricalTrend</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateHistoricalTrend</span>()</div>
<div class="block">Updates the historical exchange rate trend chart based on the selected currency.
 Uses mock historical rates (2020-2024) to populate the chart.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
